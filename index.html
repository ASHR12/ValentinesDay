<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Valentine's Day Sketch</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
</head>
<body>
    <script>
        // Define the heart particles array
let hearts = [];

function setup() {
  // Create a canvas that fills the window
  createCanvas(windowWidth, windowHeight);
  frameRate(30);
}

function draw() {
  // Set the background to a dark color
  background(30, 0, 0);

  // Update and display each heart
  for (let i = hearts.length - 1; i >= 0; i--) {
    hearts[i].update();
    hearts[i].display();
    if (hearts[i].isOffScreen()) {
      // Remove the heart if it moves off-screen
      hearts.splice(i, 1);
    }
  }
}

// Generate hearts at the mouse position on click
function mousePressed() {
  addHearts(mouseX, mouseY);
  return false; // Prevent default
}

// Generate hearts at the touch position on tap
function touchStarted() {
  addHearts(touchX, touchY);
  return false; // Prevent default behavior
}

// Function to add heart particles
function addHearts(x, y) {
  for (let i = 0; i < 5; i++) {
    hearts.push(new Heart(x, y));
  }
}

// Heart class
class Heart {
  constructor(x, y) {
    this.x = x;
    this.y = y;
    this.size = random(10, 40);
    this.speed = random(1, 3);
    this.drift = random(-1, 1); // Horizontal drift
  }

  update() {
    // Move the heart upwards and apply horizontal drift
    this.y -= this.speed;
    this.x += this.drift;
    this.size *= 0.99; // Gradually decrease the size
  }

  display() {
    // Set the heart color and glow
    fill(255, 0, 0);
    stroke(255, 100); // Soft glow
    strokeWeight(2);
    // Draw the heart using bezier vertices
    beginShape();
    vertex(this.x, this.y);
    bezierVertex(this.x - this.size / 2, this.y - this.size / 2, this.x - this.size, this.y + this.size / 3, this.x, this.y + this.size);
    bezierVertex(this.x + this.size, this.y + this.size / 3, this.x + this.size / 2, this.y - this.size / 2, this.x, this.y);
    endShape(CLOSE);
  }

  isOffScreen() {
    // Check if the heart has moved off-screen
    return this.y < -50 || this.x < -50 || this.x > width + 50;
  }
}

    </script>
</body>
</html>
